# Think 标签清理测试

## 测试用例

### 1. 简单的 think 标签
输入：
```
<think>
这是思考内容，不应该显示
</think>
这是实际回复内容
```
期望输出：
```
这是实际回复内容
```

### 2. 多个 think 标签
输入：
```
<think>第一个思考</think>
回复内容1
<think>第二个思考</think>
回复内容2
```
期望输出：
```
回复内容1
回复内容2
```

### 3. 嵌套和复杂内容
输入：
```
<think>
好的，我需要理用户请求生成一份今日食谱。首先，根据输入数据，用户提供的病例信息显示患者有原发性低钙血症、维生素D缺乏症、继发性甲状旁腺功能亢进及骨量减少。生活习惯包括长期办公室工作、户外活动少、饮食中较少摄入牛奶和豆制品，还有吸烟史。
</think>
根据您的健康状况...
```
期望输出：
```
根据您的健康状况...
```

## 调试步骤

1. 打开浏览器控制台
2. 发送包含 `<think>` 标签的消息
3. 查看控制台日志，应该显示：
   - "Original content contains <think> tags:"
   - "Cleaned content:"
4. 验证显示的内容是否已经移除了 think 标签

## 注意事项

- 流式输出时，think 标签可能被分割在多个数据块中
- 代码会智能处理未闭合的标签，等待完整标签后再清理
- 最终输出应该完全不包含 think 标签及其内容 